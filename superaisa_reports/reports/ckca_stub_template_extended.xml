<?xml version="1.0" encoding="utf-8" ?>

<odoo>
    <!--            Change the stub-->
    <template priority="100" id="ckca_stub_inherit_another" inherit_id="l10n_ca_check_printing.ckca_stub">

<!--        <xpath expr="//div[contains(@t-attf-class, 'header o_company_#')]" position="replace">-->
        <xpath expr="//template[@id='ckca_stub']" position="replace">


            <template id="ckca_stub">
                <div t-attf-class="ckca_stub ckca_stub_{{ stub_num }}">
                    <div class="sequence_number" t-if="page['sequence_number']" t-esc="page['sequence_number']"/>
                    <div class="row summary_line">
                        <div class="col-6 text-left">
                            <span t-esc="page['partner_name']"/>
                        </div>
                        <div class="col-6 text-right">
                            <span t-esc="page['payment_date_canada']"/>
                        </div>
                    </div>

                    <table class="table table-bordered table-sm stub_lines" t-if="page['stub_lines']">
                        <thead>
                            <tr>
                                <th class="text-left">Due Date</th>
                                <th class="text-left">Description</th>
                                <th class="text-right">Invoice Amount</th>
                                <th class="text-right">Amount Due</th>
                                <th class="text-right">Payment</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="page['stub_lines']" t-as="stub_line">
                                <t t-if="stub_line.get('header')">
                                    <tr>
                                        <th colspan="6">
                                            <t t-esc="stub_line['name']"/>
                                        </th>
                                    </tr>
                                </t>
                                <t t-if="not stub_line.get('header')">
                                    <tr>
                                        <td class="text-left">
                                            <t t-if="stub_line['due_date']" t-esc="stub_line['due_date']"/>
                                        </td>
                                        <td class="text-left text-truncate" style="max-width: 600px;">
                                            <t t-esc="stub_line['number']"/>
                                        </td>
                                        <td class="text-right">
                                            <t t-esc="stub_line['amount_total']"/>
                                        </td>
                                        <td class="text-right">
                                            <t t-esc="stub_line['amount_residual']"/>
                                        </td>
                                        <td class="text-right">
                                            <t t-esc="stub_line['amount_paid']"/>
                                        </td>
                                    </tr>
                                </t>
                            </t>
                            <tr t-if="page['stub_cropped']">
                                <td colspan="6" class="text-right">...</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="stub_total_amount">Check Amount:
                        <t t-esc="page['amount']"/>
                    </div>
                </div>
            </template>


        </xpath>

    </template>

</odoo>